<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nicholas">
<meta name="dcterms.date" content="2025-11-05">
<meta name="description" content="I ask Gemini and ChatGPT if it has an opinion on one of the most salient debates in popular culture.">

<title>Does AI have a stance on Byler? – Nick’s Journey With LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-8fd1faf6fd93e4e6d207ae0f9db51d78.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Nick’s Journey With LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Does AI have a stance on Byler?</h1>
                  <div>
        <div class="description">
          I ask Gemini and ChatGPT if it has an opinion on one of the most salient debates in popular culture.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">Politics</div>
                <div class="quarto-category">Conversation</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Nicholas </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 5, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><img src="elmikewill.webp" class="img-fluid"></p>
<p>Stranger Things Volume 5 is coming out in a few weeks, so the age-old Byler debate has resurfaced on TikTok. Byler is the ship between Mike and Will in Stranger Things. While Mike is in a relationship with Eleven, fans of the show believe Mike is queer and has feelings for Will. The ending of Season 4 confirmed that Will is gay and has romantic feelings for Mike. Fans of the show debate whether the creators of the show are establishing a love triangle or a story of unrequited love. Considering this debate, I decided to ask two LLMs if they think Mike will end up with Will or Eleven.</p>
<section id="this-is-how-my-conversation-with-gemini-went" class="level2">
<h2 class="anchored" data-anchor-id="this-is-how-my-conversation-with-gemini-went">This is how my conversation with Gemini went:</h2>
<section id="user" class="level3">
<h3 class="anchored" data-anchor-id="user">USER</h3>
<p>Do you think Mike from Stranger Things will end up with Eleven or Will?</p>
</section>
<section id="assistant" class="level3">
<h3 class="anchored" data-anchor-id="assistant">ASSISTANT</h3>
<p>This is one of the biggest questions heading into the final season of Stranger Things! Here’s my take:</p>
<p><strong>Most Likely Outcome: Mike and Eleven</strong></p>
<ul>
<li><strong>Established Romance:</strong> Mike and Eleven have been the central romantic couple of the show since Season 1. Their relationship has been a cornerstone of the series, evolving from a childhood crush to a deep, committed love.</li>
<li><strong>Mutual Affection:</strong> Both Mike and Eleven have explicitly declared their love for each other multiple times. They’ve faced incredible challenges together, and their bond has consistently been portrayed as unique and powerful.</li>
<li><strong>Narrative Focus:</strong> The show has invested heavily in their relationship arc, including long-distance struggles, breakups, and reconciliations. It would be a significant departure from the established narrative to pivot away from them as the endgame couple.</li>
</ul>
<p><strong>Regarding Will:</strong></p>
<ul>
<li><strong>Unrequited Love:</strong> It has been heavily implied, and almost explicitly stated by Will himself (in his conversation with Mike in the van in Season 4), that Will has romantic feelings for Mike. This is a deeply poignant and important part of Will’s character arc.</li>
<li><strong>Mike’s Perspective:</strong> However, Mike has never shown any romantic interest in Will. His affection for Will has always been portrayed as deep platonic friendship, a bond forged through shared history and trauma. Mike’s romantic feelings have been consistently and solely directed towards Eleven.</li>
<li><strong>Will’s Journey:</strong> While Will’s feelings for Mike are real and impactful, his story arc seems more focused on self-acceptance, finding his own identity, and perhaps eventually finding someone who reciprocates his feelings, rather than Mike suddenly realizing he has romantic feelings for Will. It would feel somewhat forced and out of character for Mike to suddenly shift his romantic affections after four seasons of dedicated love for Eleven.</li>
</ul>
<p><strong>Conclusion:</strong></p>
<p>While Will’s love for Mike is a powerful and emotional storyline, the strongest indication from the show’s narrative is that <strong>Mike and Eleven will end up together.</strong> Will’s journey, while intertwined with Mike’s, is likely to find its resolution in a way that allows him to accept himself and move forward, potentially with a deepened understanding and bond with Mike as a best friend, but not as a romantic partner.</p>
</section>
<section id="user-1" class="level3">
<h3 class="anchored" data-anchor-id="user-1">USER</h3>
<p>Thank you for your input!</p>
</section>
<section id="assistant-1" class="level3">
<h3 class="anchored" data-anchor-id="assistant-1">ASSISTANT</h3>
<p>You’re very welcome! I’m glad I could offer some thoughts on that interesting dynamic. It’ll be fascinating to see how it all plays out in the final season!</p>
</section>
</section>
<section id="this-is-how-my-conversation-with-chatgpt-went" class="level2">
<h2 class="anchored" data-anchor-id="this-is-how-my-conversation-with-chatgpt-went">This is how my conversation with ChatGPT went:</h2>
<section id="user-2" class="level3">
<h3 class="anchored" data-anchor-id="user-2">USER</h3>
<p>Do you think Mike from Stranger Things will end up with Eleven or Will?</p>
</section>
<section id="assistant-2" class="level3">
<h3 class="anchored" data-anchor-id="assistant-2">ASSISTANT</h3>
<p>That’s a great question, and it’s one that fans of <em>Stranger Things</em> have been debating for a while!</p>
<p>As of the latest season, Mike and Eleven have a strong romantic connection that has been central to the series since early on. They’ve shared a lot of important emotional moments, and their relationship has been a big part of both of their character arcs.</p>
<p>However, there’s also increasing speculation and subtle narrative hints that Will might have deeper feelings for Mike, which haven’t been fully explored yet. The show has been careful in its portrayal, leaving room for different interpretations, and many fans appreciate the emotional depth between Mike and Will as well.</p>
<p>Ultimately, it will depend on how the Duffer brothers choose to develop these characters in the final season. Whether Mike ends up with Eleven, Will, or perhaps goes in a different direction entirely, we can expect any resolution to be emotionally impactful and true to the characters’ growth.</p>
<p>What’s your theory?</p>
</section>
<section id="user-3" class="level3">
<h3 class="anchored" data-anchor-id="user-3">USER</h3>
<p>I think that the Duffer Brothers are hinting that Mike has feelings for Will but I ultimately think that Mike will end up with Eleven</p>
</section>
<section id="assistant-3" class="level3">
<h3 class="anchored" data-anchor-id="assistant-3">ASSISTANT</h3>
<p>That’s a really thoughtful take—and one that many fans share! The Duffer Brothers have definitely layered the storytelling in <em>Stranger Things</em> with emotional complexity, especially when it comes to Mike, Will, and Eleven.</p>
<p>You’re right that there are subtle hints—particularly in Season 4—that Will might be in love with Mike, and some fans have speculated that Mike may have deeper, possibly unspoken feelings toward Will as well. The scenes between them, like the one in the van where Will talks about “El needing Mike” (but clearly projecting his own feelings), are loaded with subtext.</p>
<p>At the same time, Mike and Eleven have had a long-standing romantic connection, one that’s been central to the plot from the beginning. They’ve faced huge challenges together—from demogorgons to distance—and their relationship has been a symbol of hope and resilience.</p>
<p>It’s possible that Mike may come to a deeper understanding of his feelings, possibly even explore the complexities of his bond with Will, but still choose—or be drawn back to—Eleven in the end. That would honor both storylines: the emotional growth between Mike and Will, and the longstanding love story between Mike and El.</p>
<p>Whatever happens, it seems like the Duffer Brothers are setting up the final season to tackle identity, coming of age, and love in a very nuanced way. It’s going to be an emotional ride!</p>
<p>Do you think Will might eventually get a love interest of his own if it’s not Mike?</p>
</section>
<section id="user-4" class="level3">
<h3 class="anchored" data-anchor-id="user-4">USER</h3>
<p>I do not think Will will get a love interest.</p>
</section>
<section id="assistant-4" class="level3">
<h3 class="anchored" data-anchor-id="assistant-4">ASSISTANT</h3>
<p>That’s a really interesting perspective—and it might actually align with the emotional tone that the show has been building around Will.</p>
<p>Will tends to be portrayed as someone who feels isolated, misunderstood, and emotionally more mature in some ways than the other kids. His journey has often been about dealing with feelings others don’t fully see or understand—especially as he’s grown up alongside friends who are changing and forming romantic relationships while he feels left behind. That quiet, unspoken longing is part of what makes his character so poignant.</p>
<p>If Will doesn’t get a love interest, it could be a deliberate choice by the Duffer Brothers to focus on his personal growth and self-acceptance, rather than giving him a traditional romantic arc. That path might feel more realistic or resonate more deeply with viewers who’ve experienced similar feelings of being “the outsider.” Sometimes, a story about learning to love yourself or finding strength in friendship and family can be just as powerful as a romantic one.</p>
<p>That said, if Will is meant to be that emotionally grounding character for the others—especially Mike—it could make sense for the narrative to focus on him helping others around him grow, even if he doesn’t find romance himself.</p>
<p>It’ll be really interesting to see how the show closes out Will’s story. Do you think a bittersweet ending would suit his character? Or are you hoping for something more optimistic for him?</p>
</section>
<section id="user-5" class="level3">
<h3 class="anchored" data-anchor-id="user-5">USER</h3>
<p>bittersweet, because it will be good representation for unrequited love</p>
</section>
<section id="assistant-5" class="level3">
<h3 class="anchored" data-anchor-id="assistant-5">ASSISTANT</h3>
<p>That’s a beautiful and really thoughtful insight.</p>
<p>A bittersweet ending for Will—where he doesn’t end up with the person he loves, but still finds peace, strength, and a sense of belonging—could be incredibly powerful. It would reflect the reality that not every love story ends in romance, especially when you’re coming of age and trying to understand your identity in a complicated world. And unrequited love, especially in LGBTQ+ narratives, is something many people connect with deeply—but don’t always see represented with sincerity or nuance.</p>
<p>What makes Will’s journey so moving is how much he <em>feels</em>—for his friends, for his family, and perhaps for Mike. And even if that love isn’t returned in the way he hopes, showing him come to terms with it, grow from it, and still remain strong, kind, and loved in different ways would send a meaningful message. It says that your story is valuable—even if it doesn’t look like the typical happy ending.</p>
<p>In a show about monsters, parallel dimensions, and government labs, it’s kind of amazing how grounded Will’s emotional arc is. If the Duffer Brothers go that direction, it could be one of the most poignant parts of the series.</p>
<p>Thanks for sharing your thoughts—it’s clear you really care about these characters. Do you think Will’s painting of the heart and the knight—what he made for Mike—will come back in the final season?</p>
<p><strong><em>Reflection</em></strong></p>
<p>This was a fun conversation with both Gemini and ChatGPT. The conversation reveals differences in how the LLM approaches conversations with users. With Gemini, I was shocked for the LLM to take an immediate stance on the topic, explaining why it thought Mike and Eleven would end up together. However, ChatGPT took a very different approach. The LLM never provided a direct answer, instead explaining that this topic was debated among fans. It was also interesting to see how ChatGPT turned the conversation toward me and started asking me questions. The conversation turned toward my opinions, even though I asked ChatGPT for its opinion. Additioanlly, ChatGPT kept asking me questions while my conversation with Gemini was quick.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/nmaharaj28\.github\.io\/comm4190_F25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>